(function(){"use strict";var t={3887:function(t,n,i){var r=i(9242),o=i(3396);const e={class:"column"};function l(t,n,i,r,l,s){const u=(0,o.up)("ShapkaComponent"),a=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",e,[(0,o.Wm)(u),(0,o.Wm)(a)])}function s(){return"true"===sessionStorage.authenticated}function u(t=!1){sessionStorage.authenticated=t}function a(){return sessionStorage.login}function _(){return sessionStorage.password}function p(t="admin",n="admin"){sessionStorage.login=t,sessionStorage.password=n}const c={id:"header"},f=(0,o._)("h1",null,"Шипулин Павел Андреевич P32151 | Вариант: 9827364",-1),d=[f];function h(t,n,i,r,e,l){return(0,o.wg)(),(0,o.iD)("div",c,d)}var g={name:"ShapkaComponent"},m=i(89);const x=(0,m.Z)(g,[["render",h]]);var y=x,b={name:"App",components:{ShapkaComponent:y},mounted(){this.getAuthenticated()?this.$router.replace({name:"Main"}):(console.log("Ага, не авторизовался!"),this.$router.replace({name:"Login"}))},methods:{getAuthenticated(){return s()}}};const v=(0,m.Z)(b,[["render",l]]);var k=v,w=i(678),C=i(7139);const S={class:"column",id:"login_page"},$=(0,o._)("h1",null,"Login",-1);function P(t,n,i,r,e,l){return(0,o.wg)(),(0,o.iD)("div",S,[$,(0,o._)("label",{for:"login_input",class:(0,C.C_)(e.form_errors.login?"error":"")},"Имя пользователя",2),(0,o._)("input",{type:"text",name:"login",id:"login_input",ref:"login",placeholder:"Username",onInput:n[0]||(n[0]=t=>l.onLoginInput(this.$refs.login))},null,544),(0,o._)("label",{for:"password_input",class:(0,C.C_)(e.form_errors.password?"error":"")},"Пароль",2),(0,o._)("input",{type:"password",name:"password",id:"password_input",ref:"password",placeholder:"Password",onInput:n[1]||(n[1]=t=>l.onPasswordInput(this.$refs.password))},null,544),(0,o._)("button",{type:"button",onClick:n[2]||(n[2]=t=>l.login())},"Login"),(0,o._)("button",{type:"button",onClick:n[3]||(n[3]=t=>l.register())},"Register")])}i(7658);var R=i(4161);const O="http://localhost:22600/lab4-final",L={POINTS_URL:O+"/points",GET_POINTS_URL:function(t){return O+"/points/"+t},TEST_URL:O+"/test",REGISTER_URL:O+"/register",LOGIN_URL:O+"/login",LOGOUT_URL:O+"/logout"};var D={name:"LoginPage",data(){return{input:{login:"",password:""},form_errors:{login:!1,password:!1},login_re:/^[a-zA-Z]+[a-zA-Z0-9_]*$/,password_re:/^[a-zA-Z0-9_]+$/}},methods:{isWrongString(t,n){return null==n.exec(t)},onLoginInput(t){this.isWrongString(t.value,this.login_re)?this.form_errors.login=!0:(this.form_errors.login=!1,this.input.login=t.value)},onPasswordInput(t){this.isWrongString(t.value,this.password_re)?this.form_errors.password=!0:(this.form_errors.password=!1,this.input.password=t.value)},login(){let t=this,n=this.input;R.Z.post(L.LOGIN_URL,{login:n.login,password:n.password}).then((function(i){console.log(i),p(n.login,n.password),u(!0),t.$router.push({name:"Main"})})).catch((function(n){console.log(n),t.form_errors.login=!0,t.form_errors.password=!0}))},register(){let t=this;R.Z.post(L.REGISTER_URL,{login:t.input.login,password:t.input.password}).then((function(n){console.log(n),p(t.input.login,t.input.password),u(!0),t.$router.push({name:"Main"})})).catch((function(n){console.log(n),t.form_errors.login=!0,t.form_errors.password=!0}))}}};const I=(0,m.Z)(D,[["render",P]]);var z=I;const T=t=>((0,o.dD)("data-v-60071a84"),t=t(),(0,o.Cn)(),t),X={class:"column",id:"main-page"},Z={id:"logout"},U=T((()=>(0,o._)("br",null,null,-1))),E={class:"column"},N=T((()=>(0,o._)("label",{for:"x_input_1"},"-4 ",-1))),G=T((()=>(0,o._)("label",{for:"x_input_2"},"-3 ",-1))),W=T((()=>(0,o._)("label",{for:"x_input_3"},"-2 ",-1))),F=T((()=>(0,o._)("label",{for:"x_input_4"},"-1 ",-1))),Y=T((()=>(0,o._)("label",{for:"x_input_5"},"0 ",-1))),A=T((()=>(0,o._)("label",{for:"x_input_6"},"1 ",-1))),M=T((()=>(0,o._)("label",{for:"x_input_7"},"2 ",-1))),j=T((()=>(0,o._)("label",{for:"x_input_8"},"3 ",-1))),H=T((()=>(0,o._)("label",{for:"x_input_9"},"4 ",-1))),q=T((()=>(0,o._)("label",{for:"r_input_1"},"-4 ",-1))),K=T((()=>(0,o._)("label",{for:"r_input_2"},"-3 ",-1))),B=T((()=>(0,o._)("label",{for:"r_input_3"},"-2 ",-1))),J=T((()=>(0,o._)("label",{for:"r_input_4"},"-1 ",-1))),Q=T((()=>(0,o._)("label",{for:"r_input_5"},"0 ",-1))),V=T((()=>(0,o._)("label",{for:"r_input_6"},"1 ",-1))),tt=T((()=>(0,o._)("label",{for:"r_input_7"},"2 ",-1))),nt=T((()=>(0,o._)("label",{for:"r_input_8"},"3 ",-1))),it=T((()=>(0,o._)("label",{for:"r_input_9"},"4 ",-1))),rt=T((()=>(0,o._)("input",{type:"submit"},null,-1))),ot={id:"data_table"},et=T((()=>(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("td",null,"Идентификатор"),(0,o._)("td",null,"Значение X"),(0,o._)("td",null,"Значение Y"),(0,o._)("td",null,"Попадание"),(0,o._)("td",null,"Отправлено в")])],-1)));function lt(t,n,i,r,e,l){const s=(0,o.up)("GraphicComponent");return(0,o.wg)(),(0,o.iD)("div",X,[(0,o._)("div",Z,[(0,o._)("button",{id:"logout-button",onClick:n[0]||(n[0]=t=>l.logout())},"Logout")]),(0,o._)("div",null,[U,(0,o.Wm)(s,{points:e.points,r:e.form_point.r,"parent-plot-on-click":l.plotOnClick},null,8,["points","r","parent-plot-on-click"])]),(0,o._)("form",{id:"point_form",onSubmit:n[20]||(n[20]=(...t)=>l.submitPointForm&&l.submitPointForm(...t))},[(0,o._)("div",E,[(0,o._)("label",{for:"x_input",class:(0,C.C_)(this.form_errors.x?"error":"")},"Выберите X",2),(0,o._)("table",null,[(0,o._)("tr",null,[(0,o._)("td",null,[N,(0,o._)("input",{type:"radio",name:"x_input",id:"x_input_1",ref:"x_input_1",value:"-4",onClick:n[1]||(n[1]=t=>l.changeX(this.$refs.x_input_1))},null,512)]),(0,o._)("td",null,[G,(0,o._)("input",{type:"radio",name:"x_input",id:"x_input_2",ref:"x_input_2",value:"-3",onClick:n[2]||(n[2]=t=>l.changeX(this.$refs.x_input_2))},null,512)]),(0,o._)("td",null,[W,(0,o._)("input",{type:"radio",name:"x_input",id:"x_input_3",ref:"x_input_3",value:"-2",onClick:n[3]||(n[3]=t=>l.changeX(this.$refs.x_input_3))},null,512)]),(0,o._)("td",null,[F,(0,o._)("input",{type:"radio",name:"x_input",id:"x_input_4",ref:"x_input_4",value:"-1",onClick:n[4]||(n[4]=t=>l.changeX(this.$refs.x_input_4))},null,512)]),(0,o._)("td",null,[Y,(0,o._)("input",{type:"radio",name:"x_input",id:"x_input_5",ref:"x_input_5",value:"0",onClick:n[5]||(n[5]=t=>l.changeX(this.$refs.x_input_5)),checked:"checked"},null,512)]),(0,o._)("td",null,[A,(0,o._)("input",{type:"radio",name:"x_input",id:"x_input_6",ref:"x_input_6",value:"1",onClick:n[6]||(n[6]=t=>l.changeX(this.$refs.x_input_6))},null,512)]),(0,o._)("td",null,[M,(0,o._)("input",{type:"radio",name:"x_input",id:"x_input_7",ref:"x_input_7",value:"2",onClick:n[7]||(n[7]=t=>l.changeX(this.$refs.x_input_7))},null,512)]),(0,o._)("td",null,[j,(0,o._)("input",{type:"radio",name:"x_input",id:"x_input_8",ref:"x_input_8",value:"3",onClick:n[8]||(n[8]=t=>l.changeX(this.$refs.x_input_8))},null,512)]),(0,o._)("td",null,[H,(0,o._)("input",{type:"radio",name:"x_input",id:"x_input_9",ref:"x_input_9",value:"4",onClick:n[9]||(n[9]=t=>l.changeX(this.$refs.x_input_9))},null,512)])])]),(0,o._)("label",{for:"y_input",class:(0,C.C_)(this.form_errors.y?"error":"")},"Введите Y",2),(0,o._)("input",{type:"text",name:"y_input",id:"y_input",ref:"y_input",placeholder:"[-5; 3]",maxlength:"20",onInput:n[10]||(n[10]=t=>l.changeY(this.$refs.y_input))},null,544),(0,o._)("label",{for:"r_input",class:(0,C.C_)(this.form_errors.r?"error":"")},"Выберите R",2),(0,o._)("table",null,[(0,o._)("tr",null,[(0,o._)("td",null,[q,(0,o._)("input",{type:"radio",name:"r_input",id:"r_input_1",ref:"r_input_1",value:"-4",onClick:n[11]||(n[11]=t=>l.changeR(this.$refs.r_input_1))},null,512)]),(0,o._)("td",null,[K,(0,o._)("input",{type:"radio",name:"r_input",id:"r_input_2",ref:"r_input_2",value:"-3",onClick:n[12]||(n[12]=t=>l.changeR(this.$refs.r_input_2))},null,512)]),(0,o._)("td",null,[B,(0,o._)("input",{type:"radio",name:"r_input",id:"r_input_3",ref:"r_input_3",value:"-2",onClick:n[13]||(n[13]=t=>l.changeR(this.$refs.r_input_3))},null,512)]),(0,o._)("td",null,[J,(0,o._)("input",{type:"radio",name:"r_input",id:"r_input_4",ref:"r_input_4",value:"-1",onClick:n[14]||(n[14]=t=>l.changeR(this.$refs.r_input_4))},null,512)]),(0,o._)("td",null,[Q,(0,o._)("input",{type:"radio",name:"r_input",id:"r_input_5",ref:"r_input_5",value:"0",onClick:n[15]||(n[15]=t=>l.changeR(this.$refs.r_input_5))},null,512)]),(0,o._)("td",null,[V,(0,o._)("input",{type:"radio",name:"r_input",id:"r_input_6",ref:"r_input_6",value:"1",onClick:n[16]||(n[16]=t=>l.changeR(this.$refs.r_input_6)),checked:"checked"},null,512)]),(0,o._)("td",null,[tt,(0,o._)("input",{type:"radio",name:"r_input",id:"r_input_7",ref:"r_input_7",value:"2",onClick:n[17]||(n[17]=t=>l.changeR(this.$refs.r_input_7))},null,512)]),(0,o._)("td",null,[nt,(0,o._)("input",{type:"radio",name:"r_input",id:"r_input_8",ref:"r_input_8",value:"3",onClick:n[18]||(n[18]=t=>l.changeR(this.$refs.r_input_8))},null,512)]),(0,o._)("td",null,[it,(0,o._)("input",{type:"radio",name:"r_input",id:"r_input_9",ref:"r_input_9",value:"4",onClick:n[19]||(n[19]=t=>l.changeR(this.$refs.r_input_9))},null,512)])])]),rt])],32),(0,o._)("table",ot,[et,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.points,((t,n)=>((0,o.wg)(),(0,o.iD)("tr",{key:n},[(0,o._)("td",null,(0,C.zw)(t.id),1),(0,o._)("td",null,(0,C.zw)(t.x),1),(0,o._)("td",null,(0,C.zw)(t.y),1),(0,o._)("td",null,(0,C.zw)(t.hit),1),(0,o._)("td",null,(0,C.zw)(t.dateTime),1)])))),128))])])])}const st=t=>((0,o.dD)("data-v-617cbb74"),t=t(),(0,o.Cn)(),t),ut=["stroke","fill"],at=["stroke","fill"],_t=["stroke","fill"],pt=(0,o.uE)('<line stroke="black" x1="0" x2="300" y1="150" y2="150" data-v-617cbb74></line><line stroke="black" x1="150" x2="150" y1="0" y2="300" data-v-617cbb74></line><polygon fill="black" points="150,0 144,15 155,15" data-v-617cbb74></polygon><polygon fill="black" points="300,150 285,156 285,144" data-v-617cbb74></polygon><line stroke="black" x1="200" x2="200" y1="155" y2="145" data-v-617cbb74></line><line stroke="black" x1="250" x2="250" y1="155" y2="145" data-v-617cbb74></line><line stroke="black" x1="50" x2="50" y1="155" y2="145" data-v-617cbb74></line><line stroke="black" x1="100" x2="100" y1="155" y2="145" data-v-617cbb74></line><line stroke="black" x1="145" x2="155" y1="100" y2="100" data-v-617cbb74></line><line stroke="black" x1="145" x2="155" y1="50" y2="50" data-v-617cbb74></line><line stroke="black" x1="145" x2="155" y1="200" y2="200" data-v-617cbb74></line><line stroke="black" x1="145" x2="155" y1="250" y2="250" data-v-617cbb74></line>',12),ct={id:"dots",ref:"dots",height:"300",width:"300"},ft=["cx","cy","fill"],dt=st((()=>(0,o._)("text",{fill:"black",x:"160",y:"10"},"Y",-1))),ht=st((()=>(0,o._)("text",{fill:"black",x:"290",y:"140"},"X",-1)));function gt(t,n,i,r,e,l){return(0,o.wg)(),(0,o.iD)("svg",{id:"plot",height:"300",width:"300",xmlns:"http://www.w3.org/2000/svg",ref:"plot",onClick:n[0]||(n[0]=t=>l.plotOnClick(this.$refs.plot))},[(0,o._)("polygon",{stroke:e.area_color,fill:e.area_color,class:"plot_part",points:"150,150 150,100 50,150"},null,8,ut),(0,o._)("rect",{stroke:e.area_color,fill:e.area_color,class:"plot_part",x:"50",y:"150",height:"100",width:"100"},null,8,at),(0,o._)("path",{stroke:e.area_color,fill:e.area_color,class:"plot_part",d:"M 150 250 A 100 100, 100, 0, 0, 250 150 L 150 150 Z"},null,8,_t),pt,((0,o.wg)(),(0,o.iD)("svg",ct,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.points,((t,n)=>((0,o.wg)(),(0,o.iD)("circle",{r:"3",key:n,cx:100*t.x/i.r+150,cy:150-100*t.y/i.r,fill:this.pointColor(t.hit)},null,8,ft)))),128))],512)),((0,o.wg)(),(0,o.iD)("text",{id:"xm2",ref:"xm2",fill:"black",x:"40",y:"140",key:i.r},(0,C.zw)((-this.r).toString()),1)),((0,o.wg)(),(0,o.iD)("text",{id:"xm1",ref:"xm1",fill:"black",x:"85",y:"140",key:i.r},(0,C.zw)((-this.r/2).toString()),1)),((0,o.wg)(),(0,o.iD)("text",{id:"xp1",ref:"xp1",fill:"black",x:"190",y:"140",key:i.r},(0,C.zw)((this.r/2).toString()),1)),((0,o.wg)(),(0,o.iD)("text",{id:"xp2",ref:"xp2",fill:"black",x:"245",y:"140",key:i.r},(0,C.zw)(this.r.toString()),1)),((0,o.wg)(),(0,o.iD)("text",{id:"ym2",ref:"ym2",fill:"black",x:"160",y:"255",key:i.r},(0,C.zw)((-this.r).toString()),1)),((0,o.wg)(),(0,o.iD)("text",{id:"ym1",ref:"ym1",fill:"black",x:"160",y:"205",key:i.r},(0,C.zw)((-this.r/2).toString()),1)),((0,o.wg)(),(0,o.iD)("text",{id:"yp1",ref:"yp1",fill:"black",x:"160",y:"105",key:i.r},(0,C.zw)((this.r/2).toString()),1)),((0,o.wg)(),(0,o.iD)("text",{id:"yp2",ref:"yp2",fill:"black",x:"160",y:"55",key:i.r},(0,C.zw)(this.r.toString()),1)),dt,ht],512)}var mt={name:"GraphicComponent",data(){return{point_color:{hit:"#7fff00",miss:"#ff0000"},area_color:"#007fff"}},props:["points","r","parentPlotOnClick"],methods:{getCursorPosition(t,n){if(void 0===t)return{x:-1337,y:-1337};const i=t.getBoundingClientRect();return{x:n.clientX-i.left,y:n.clientY-i.top}},pointColor(t){return t?this.point_color.hit:this.point_color.miss},plotOnClick(t){let n=this.getCursorPosition(t,event);n.x=(n.x-150)*this.r/100,n.y=(150-n.y)*this.r/100,this.parentPlotOnClick(n.x,n.y)}}};const xt=(0,m.Z)(mt,[["render",gt],["__scopeId","data-v-617cbb74"]]);var yt=xt,bt={name:"MainPage",components:{GraphicComponent:yt},data(){return{this_user:{login:a(),password:_()},points:[],point:{x:void 0,y:void 0,r:1},form_point:{x:0,y:void 0,r:1},form_errors:{x:!1,y:!0,r:!1},num_re:/^-?\d+(?:[.,]\d+)?$/m}},mounted(){let t=this.this_user,n=this;R.Z.request({url:L.GET_POINTS_URL(1),method:"get",params:{login:t.login}}).then((function(t){console.log(t.data),n.points=t.data})).catch((function(t){console.log(t)}))},methods:{getPoints(){let t=this.this_user,n=this;R.Z.request({url:L.GET_POINTS_URL(this.point.r),method:"get",params:{login:t.login}}).then((function(t){console.log(t.data),n.points=t.data})).catch((function(t){console.log(t)}))},logout(){u(!1),this.$router.push({name:"Login"})},isWrongNumber(t){return null==this.num_re.exec(t)},changeX(t){this.form_errors.x=!1,this.form_point.x=parseFloat(t.value)},changeY(t){let n=t.value.replace(",","."),i=parseFloat(n);this.isWrongNumber(n)||i<-5||i>3?(this.form_errors.y=!0,this.form_point.y=void 0):(this.form_errors.y=!1,this.form_point.y=i)},changeR(t){let n=parseFloat(t.value);n<=0?this.form_errors.r=!0:(this.form_errors.r=!1,this.form_point.r=n,this.point.r=n,this.getPoints())},formHasErrors(){return this.form_errors.x||this.form_errors.y||this.form_errors.r},sendNewPoint(){if(console.log("Sending point =","x:",this.point.x,"y:",this.point.y,"r:",this.point.r),this.formHasErrors())return console.log("Point has got errors"),!1;let t=this.this_user,n=this;R.Z.request({url:L.POINTS_URL,method:"post",data:{x:this.point.x,y:this.point.y,r:this.point.r},params:{login:t.login}}).then((function(t){console.log(t),n.getPoints()})).catch((function(t){console.log(t)}))},submitPointForm(){event.preventDefault(),this.point.x=this.form_point.x,this.point.y=this.form_point.y,this.point.r=this.form_point.r,this.sendNewPoint()},plotOnClick(t,n){this.form_errors.x=!1,this.form_errors.y=!1,this.point.x=t,this.point.y=n,this.$refs.y_input.value=n.toFixed(3).toString(),this.point.r=this.form_point.r,this.sendNewPoint()}}};const vt=(0,m.Z)(bt,[["render",lt],["__scopeId","data-v-60071a84"]]);var kt=vt;const wt=[{path:"/",name:"Welcome",component:z},{path:"/login",name:"Login",component:z},{path:"/app",name:"Main",component:kt}],Ct=(0,w.p7)({history:(0,w.PO)(),routes:wt});var St=Ct;(0,r.ri)(k).use(St).mount("#app")}},n={};function i(r){var o=n[r];if(void 0!==o)return o.exports;var e=n[r]={exports:{}};return t[r](e,e.exports,i),e.exports}i.m=t,function(){var t=[];i.O=function(n,r,o,e){if(!r){var l=1/0;for(_=0;_<t.length;_++){r=t[_][0],o=t[_][1],e=t[_][2];for(var s=!0,u=0;u<r.length;u++)(!1&e||l>=e)&&Object.keys(i.O).every((function(t){return i.O[t](r[u])}))?r.splice(u--,1):(s=!1,e<l&&(l=e));if(s){t.splice(_--,1);var a=o();void 0!==a&&(n=a)}}return n}e=e||0;for(var _=t.length;_>0&&t[_-1][2]>e;_--)t[_]=t[_-1];t[_]=[r,o,e]}}(),function(){i.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(n,{a:n}),n}}(),function(){i.d=function(t,n){for(var r in n)i.o(n,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={143:0};i.O.j=function(n){return 0===t[n]};var n=function(n,r){var o,e,l=r[0],s=r[1],u=r[2],a=0;if(l.some((function(n){return 0!==t[n]}))){for(o in s)i.o(s,o)&&(i.m[o]=s[o]);if(u)var _=u(i)}for(n&&n(r);a<l.length;a++)e=l[a],i.o(t,e)&&t[e]&&t[e][0](),t[e]=0;return i.O(_)},r=self["webpackChunklab4_front"]=self["webpackChunklab4_front"]||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))}();var r=i.O(void 0,[998],(function(){return i(3887)}));r=i.O(r)})();
//# sourceMappingURL=app.17c21c29.js.map